{"ast":null,"code":"import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\n\n// const Cards = ({ breed }) => {\n//   const [dogs, setDogs] = useState([]);\n//   const [currentPage, setCurrentPage] = useState(1);\n//   const [totalPages, setTotalPages] = useState(1);\n\n//   useEffect(() => {\n//     const fetchData = async () => {\n//       try {\n//         const response = await axios.get(\n//           `https://frontend-take-home-service.fetch.com/dogs/search`,\n//           {\n//             withCredentials:true,\n//             headers: {\n//               'fetch-api-key': 'your-api-key',\n//             },\n//             params: {\n//               breeds: [breed],\n//               sort: 'breed:asc',\n//               from: (currentPage - 1) * 25,\n//               size: 25,\n//             }\n//           }\n//         );\n\n//         const dogIds = response.data.resultIds;\n//         const next = response.data.next;\n//         const prev = response.data.prev;\n//         console.log(\"next is \" +next)\n//         const dogsResponse = await axios.post(\n//           `https://frontend-take-home-service.fetch.com/dogs`,\n//           dogIds,\n//           {\n//             withCredentials: true,\n//             headers: {\n//               'fetch-api-key': 'your-api-key',\n//             },\n//           }\n//         );\n\n//         const dogsData = dogsResponse.data;\n//         setDogs(dogsData);\n//         setTotalPages(Math.ceil(response.data.total / 25));\n//       } catch(error){\n//         console.error(error);\n//       }\n//     };\n\n//     fetchData();\n//   }, [breed, currentPage]);\n\n//   const handlePrevPage = () => {\n//     setCurrentPage(currentPage - 1);\n//   };\n\n//   const handleNextPage = () => {\n//     setCurrentPage(currentPage + 1);\n//   };\n\n//   return (\n//     <div>\n//       {dogs.map((dog) => (\n//         <div key={dog.id}>\n//           <img src={dog.img} alt={dog.name} />\n//           <h3>{dog.name}</h3>\n//           <p>Breed: {dog.breed}</p>\n//           <p>Age: {dog.age}</p>\n//           <p>Zip Code: {dog.zip_code}</p>\n//         </div>\n//       ))}\n//       <div>\n//         {currentPage > 1 && <button onClick={handlePrevPage}>Prev</button>}\n//         <p>{currentPage} of {totalPages}</p>\n//         {currentPage < totalPages && <button onClick={handleNextPage}>Next</button>}\n//       </div>\n//     </div>\n//   );\n// };\n\n// export default Cards;","map":{"version":3,"names":["React","useState","useEffect","axios"],"sources":["/home/kanishk/Desktop/fetch2/react-dog-app/src/components/Cards.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\n\n\n\n\n\n// const Cards = ({ breed }) => {\n//   const [dogs, setDogs] = useState([]);\n//   const [currentPage, setCurrentPage] = useState(1);\n//   const [totalPages, setTotalPages] = useState(1);\n  \n//   useEffect(() => {\n//     const fetchData = async () => {\n//       try {\n//         const response = await axios.get(\n//           `https://frontend-take-home-service.fetch.com/dogs/search`,\n//           {\n//             withCredentials:true,\n//             headers: {\n//               'fetch-api-key': 'your-api-key',\n//             },\n//             params: {\n//               breeds: [breed],\n//               sort: 'breed:asc',\n//               from: (currentPage - 1) * 25,\n//               size: 25,\n//             }\n//           }\n//         );\n        \n//         const dogIds = response.data.resultIds;\n//         const next = response.data.next;\n//         const prev = response.data.prev;\n//         console.log(\"next is \" +next)\n//         const dogsResponse = await axios.post(\n//           `https://frontend-take-home-service.fetch.com/dogs`,\n//           dogIds,\n//           {\n//             withCredentials: true,\n//             headers: {\n//               'fetch-api-key': 'your-api-key',\n//             },\n//           }\n//         );\n    \n//         const dogsData = dogsResponse.data;\n//         setDogs(dogsData);\n//         setTotalPages(Math.ceil(response.data.total / 25));\n//       } catch(error){\n//         console.error(error);\n//       }\n//     };\n    \n//     fetchData();\n//   }, [breed, currentPage]);\n  \n//   const handlePrevPage = () => {\n//     setCurrentPage(currentPage - 1);\n//   };\n  \n//   const handleNextPage = () => {\n//     setCurrentPage(currentPage + 1);\n//   };\n  \n//   return (\n//     <div>\n//       {dogs.map((dog) => (\n//         <div key={dog.id}>\n//           <img src={dog.img} alt={dog.name} />\n//           <h3>{dog.name}</h3>\n//           <p>Breed: {dog.breed}</p>\n//           <p>Age: {dog.age}</p>\n//           <p>Zip Code: {dog.zip_code}</p>\n//         </div>\n//       ))}\n//       <div>\n//         {currentPage > 1 && <button onClick={handlePrevPage}>Prev</button>}\n//         <p>{currentPage} of {totalPages}</p>\n//         {currentPage < totalPages && <button onClick={handleNextPage}>Next</button>}\n//       </div>\n//     </div>\n//   );\n// };\n\n// export default Cards;\n\n\n\n"],"mappings":"AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,KAAK,MAAM,OAAO;;AAMzB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA"},"metadata":{},"sourceType":"module","externalDependencies":[]}